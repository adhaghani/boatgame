import{j as e,S as v,c as j,_ as f,r as h,X as w,B as b,w as i,D as N,x as y,v as p,y as C,z as A,E as D,F as k,Q as P,U as z}from"./index-Ch0GN_Px.js";import{C as F,b as S,a as T,d as V}from"./card-aJb1NLmQ.js";import{C as B,a as E,b as G,c as I,d as R}from"./carousel-OSduwr-o.js";import{u as U}from"./useIsMobile-Cbwh5vbp.js";import{P as H}from"./particles-C5RftUci.js";const L=f("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M({className:c,variant:l,asChild:x=!1,...u}){const r=x?v:"span";return e.jsx(r,{"data-slot":"badge",className:j(L({variant:l}),c),...u})}const X=h.memo(()=>{const c=w(),l=U(),[x,u]=h.useState(null);return e.jsxs(e.Fragment,{children:[!l&&e.jsx("div",{className:"fixed left-0 -z-10 overflow-hidden w-full h-full",children:e.jsx(H,{quantity:200})}),e.jsxs(b,{inView:!0,delay:.1,children:[e.jsx(i,{as:"h1",className:"text-center",children:"Past Attempts"}),e.jsx(i,{as:"p",className:"text-center text-xs md:text-base text-muted-foreground",children:"View your previous games and scores. Try to get all correct for the best leaderboard score!"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2 md:gap-4 my-4 md:my-10",children:c.map((r,a)=>e.jsx(b,{inView:!0,delay:a*.1,children:e.jsxs(F,{className:"text-xs md:text-base",children:[e.jsxs(S,{className:"flex flex-row justify-between items-center gap-2 md:gap-4",children:[e.jsxs(i,{as:"p",children:["Attempt #",a+1]}),e.jsx(M,{variant:r.success?"default":"destructive",children:r.success?"Success":"Failed"})]}),e.jsxs(T,{children:[e.jsxs("div",{className:"flex gap-2 md:gap-4 items-center",children:[e.jsxs("div",{className:"p-2 md:p-4 w-full rounded-lg dark:bg-green-950 bg-green-200 dark:text-green-300 text-green-700",children:[e.jsx(i,{as:"h4",children:"Correctly Answer"}),e.jsx(i,{as:"h2",children:25-r.incorrectAttributes.length})]}),e.jsxs("div",{className:"p-2 md:p-4 w-full rounded-lg dark:bg-red-950 dark:text-red-200 text-red-800 bg-red-300",children:[e.jsx(i,{as:"h4",children:"InCorrectly Answer"}),e.jsx(i,{as:"h2",children:r.incorrectAttributes.length})]})]}),e.jsxs(N,{open:x===a,onOpenChange:t=>u(t?a:null),children:[e.jsx(y,{asChild:!0,children:e.jsx(p,{size:"sm",className:"mt-2",children:"Show Grid"})}),e.jsxs(C,{className:"!max-w-6xl w-full",children:[e.jsxs(A,{children:[e.jsxs(D,{children:["Attempt #",a+1," - Answer Grid"]}),e.jsx(k,{children:"Review your answers. Green = correct, Red = incorrect."})]}),e.jsx("div",{className:"overflow-x-auto",children:l?e.jsxs(B,{className:"max-w-[90vw] mx-auto",children:[e.jsx(E,{children:r.userAnswer.map(t=>{const n=r.solution.find(s=>s.position===t.position),m=r.incorrectAttributes.filter(s=>s.position===t.position);return e.jsx(G,{className:"max-w-[320px]",children:e.jsxs("div",{className:"flex flex-col border rounded-lg",children:[e.jsxs("div",{className:"text-center font-semibold py-1 border-b bg-secondary",children:["Position ",t.position]}),["nationality","departureTime","cargo","chimneyColor","destination"].map(s=>{const o=s,d=m.some(g=>g.attribute===s);return e.jsxs("div",{className:`p-2 border-b last:border-b-0 text-xs md:text-base text-center ${d?"bg-red-200 dark:bg-red-900":"bg-green-200 dark:bg-green-900"}`,children:[e.jsx("div",{className:"font-bold capitalize",children:s}),e.jsxs("div",{children:["User: ",t[o]]}),d&&n?e.jsxs("div",{className:"text-xs",children:["Correct: ",n[o]]}):null]},s)})]})},t.position)})}),e.jsx(I,{}),e.jsx(R,{})]}):e.jsx("div",{className:"grid grid-cols-5 gap-2 min-w-[700px]",children:r.userAnswer.map(t=>{const n=r.solution.find(s=>s.position===t.position),m=r.incorrectAttributes.filter(s=>s.position===t.position);return e.jsxs("div",{className:"flex flex-col border rounded-lg",children:[e.jsxs("div",{className:"text-center font-semibold py-1 border-b bg-secondary",children:["Position ",t.position]}),["nationality","departureTime","cargo","chimneyColor","destination"].map(s=>{const o=s,d=m.some(g=>g.attribute===s);return e.jsxs("div",{className:`p-2 border-b last:border-b-0 text-xs md:text-base text-center ${d?"bg-red-200 dark:bg-red-900":"bg-green-200 dark:bg-green-900"}`,children:[e.jsx("div",{className:"font-bold capitalize",children:s}),e.jsxs("div",{children:["User: ",t[o]]}),d&&n?e.jsxs("div",{className:"text-xs",children:["Correct: ",n[o]]}):null]},s)})]},t.position)})})}),e.jsx(P,{children:e.jsx(z,{asChild:!0,children:e.jsx(p,{variant:"outline",children:"Close"})})})]})]})]}),e.jsx(V,{className:"space-x-1 md:space-x-2",children:e.jsxs(i,{as:"p",styleVariant:"muted",children:["Attempted by ",r.username]})})]})},a))})]})});export{X as default};
