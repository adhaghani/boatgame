import{j as e,S as N,c as C,_ as y,r as b,X as A,B as v,w as t,D,x as k,v as f,y as P,z as T,E as z,F,Q as S,U as V}from"./index-DPvhCFP3.js";import{C as h,b as p,a as j,c as w,d as U}from"./card-DgcrfbAB.js";import{C as B,a as E,b as G,c as I,d as R}from"./carousel-DOVXQ-aY.js";import{u as H}from"./useIsMobile-CTdM5Gz9.js";import{P as L}from"./particles-8a2ehQ9j.js";const M=y("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function W({className:c,variant:l,asChild:x=!1,...u}){const a=x?N:"span";return e.jsx(a,{"data-slot":"badge",className:C(M({variant:l}),c),...u})}const _=b.memo(()=>{const c=A(),l=H(),[x,u]=b.useState(null);return e.jsxs(e.Fragment,{children:[!l&&e.jsx("div",{className:"fixed left-0 -z-10 overflow-hidden w-full h-full",children:e.jsx(L,{quantity:200})}),e.jsxs(v,{inView:!0,delay:.1,children:[e.jsx(t,{as:"h1",className:"text-center",children:"Past Attempts"}),e.jsx(t,{as:"p",className:"text-center text-xs md:text-base text-muted-foreground",children:"View your previous games and scores. Try to get all correct for the best leaderboard score!"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2 md:gap-4 my-4 md:my-10",children:c.map((a,n)=>e.jsx(v,{inView:!0,delay:n*.1,children:e.jsxs(h,{className:"text-xs md:text-base",children:[e.jsxs(p,{className:"flex flex-row justify-between items-center gap-2 md:gap-4",children:[e.jsxs(t,{as:"p",children:["Attempt #",n+1]}),e.jsx(W,{variant:a.success?"default":"destructive",children:a.success?"Success":"Failed"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex gap-2 md:gap-4 items-center",children:[e.jsxs("div",{className:"p-2 md:p-4 w-full rounded-lg dark:bg-green-950 bg-green-200 dark:text-green-300 text-green-700",children:[e.jsx(t,{as:"h4",children:"Correctly Answer"}),e.jsx(t,{as:"h2",children:25-a.incorrectAttributes.length})]}),e.jsxs("div",{className:"p-2 md:p-4 w-full rounded-lg dark:bg-red-950 dark:text-red-200 text-red-800 bg-red-300",children:[e.jsx(t,{as:"h4",children:"InCorrectly Answer"}),e.jsx(t,{as:"h2",children:a.incorrectAttributes.length})]})]}),e.jsxs(D,{open:x===n,onOpenChange:r=>u(r?n:null),children:[e.jsx(k,{asChild:!0,children:e.jsx(f,{size:"sm",className:"mt-2",children:"Show Grid"})}),e.jsxs(P,{className:"!max-w-6xl w-full",children:[e.jsxs(T,{children:[e.jsxs(z,{children:["Attempt #",n+1," - Answer Grid"]}),e.jsx(F,{children:"Review your answers. Green = correct, Red = incorrect."})]}),e.jsx("div",{className:"overflow-x-auto",children:l?e.jsxs(B,{className:"max-w-[90vw] mx-auto",children:[e.jsx(E,{children:a.userAnswer.map(r=>{const o=a.solution.find(s=>s.position===r.position),m=a.incorrectAttributes.filter(s=>s.position===r.position);return e.jsx(G,{className:"max-w-[320px]",children:e.jsxs(h,{children:[e.jsx(p,{className:"text-center",children:e.jsxs(w,{children:["Position ",r.position]})}),e.jsx(j,{children:["nationality","departureTime","cargo","chimneyColor","destination"].map(s=>{const i=s,d=m.some(g=>g.attribute===s);return e.jsxs("div",{className:`p-2 my-1 border-b last:border-b-0 text-xs md:text-base rounded-lg text-center ${d?"bg-red-200 dark:bg-red-950":"bg-green-200 dark:bg-green-950"}`,children:[e.jsx("div",{className:"font-bold capitalize",children:s}),r[i]===""?e.jsx(t,{as:"p",className:"text-xs",children:"User did not answer"}):e.jsxs(t,{as:"p",className:"text-xs",children:["User: ",r[i]]}),d&&o?e.jsxs(t,{as:"p",className:"text-xs",children:["Answer: ",o[i]]}):null]},s)})})]})},r.position)})}),e.jsx(I,{}),e.jsx(R,{})]}):e.jsx("div",{className:"grid grid-cols-5 gap-2 min-w-[700px]",children:a.userAnswer.map(r=>{const o=a.solution.find(s=>s.position===r.position),m=a.incorrectAttributes.filter(s=>s.position===r.position);return e.jsxs(h,{children:[e.jsx(p,{className:"text-center",children:e.jsxs(w,{children:["Position ",r.position]})}),e.jsx(j,{children:["nationality","departureTime","cargo","chimneyColor","destination"].map(s=>{const i=s,d=m.some(g=>g.attribute===s);return e.jsxs("div",{className:`p-2 my-1 last:border-b-0 aspect-video text-xs md:text-base text-center grid place-items-center rounded-lg ${d?"bg-red-200 dark:bg-red-950":"bg-green-200 dark:bg-green-950"}`,children:[e.jsx("div",{className:"font-bold capitalize",children:s}),r[i]===""?e.jsx(t,{as:"p",className:"text-xs",children:"User did not answer"}):e.jsxs(t,{as:"p",className:"text-xs",children:["User: ",r[i]]}),d&&o?e.jsxs(t,{as:"p",className:"text-xs",children:["Answer: ",o[i]]}):null]},s)})})]},r.position)})})}),e.jsx(S,{children:e.jsx(V,{asChild:!0,children:e.jsx(f,{variant:"outline",children:"Close"})})})]})]})]}),e.jsx(U,{className:"space-x-1 md:space-x-2",children:e.jsxs(t,{as:"p",styleVariant:"muted",children:["Attempted by ",a.username]})})]})},n))})]})});export{_ as default};
