import{r,j as X,d as H}from"./index-q5mIHx42.js";const G=()=>{const[s,d]=r.useState(!1);return r.useEffect(()=>{const c=()=>{const m=navigator.userAgent.toLowerCase(),p=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(m);d(p)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),s};function V(){const[s,d]=r.useState({x:0,y:0});return r.useEffect(()=>{const c=m=>{d({x:m.clientX,y:m.clientY})};return window.addEventListener("mousemove",c),()=>{window.removeEventListener("mousemove",c)}},[]),s}function W(s){s=s.replace("#",""),s.length===3&&(s=s.split("").map(g=>g+g).join(""));const d=parseInt(s,16),c=d>>16&255,m=d>>8&255,p=d&255;return[c,m,p]}const J=({className:s="",quantity:d=100,staticity:c=50,ease:m=50,size:p=.4,refresh:g=!1,color:A="aaaaaa",vx:Y=0,vy:j=0,...F})=>{const l=r.useRef(null),v=r.useRef(null),o=r.useRef(null),M=r.useRef([]),z=V(),y=r.useRef({x:0,y:0}),n=r.useRef({w:0,h:0}),h=typeof window<"u"?window.devicePixelRatio:1,R=r.useRef(null),w=r.useRef(null);r.useEffect(()=>{l.current&&(o.current=l.current.getContext("2d")),b(),L();const e=()=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{b()},200)};return window.addEventListener("resize",e),()=>{R.current!=null&&window.cancelAnimationFrame(R.current),w.current&&clearTimeout(w.current),window.removeEventListener("resize",e)}},[A]),r.useEffect(()=>{T()},[z.x,z.y]),r.useEffect(()=>{b()},[g]);const b=()=>{S(),k()},T=()=>{if(l.current){const e=l.current.getBoundingClientRect(),{w:t,h:a}=n.current,u=z.x-e.left-t/2,i=z.y-e.top-a/2;u<t/2&&u>-t/2&&i<a/2&&i>-a/2&&(y.current.x=u,y.current.y=i)}},S=()=>{if(v.current&&l.current&&o.current){n.current.w=v.current.offsetWidth,n.current.h=v.current.offsetHeight,l.current.width=n.current.w*h,l.current.height=n.current.h*h,l.current.style.width=`${n.current.w}px`,l.current.style.height=`${n.current.h}px`,o.current.scale(h,h),M.current=[];for(let e=0;e<d;e++){const t=C();E(t)}}},C=()=>{const e=Math.floor(Math.random()*n.current.w),t=Math.floor(Math.random()*n.current.h),a=0,u=0,i=Math.floor(Math.random()*2)+p,f=0,x=parseFloat((Math.random()*.6+.1).toFixed(1)),P=(Math.random()-.5)*.1,N=(Math.random()-.5)*.1,B=.1+Math.random()*4;return{x:e,y:t,translateX:a,translateY:u,size:i,alpha:f,targetAlpha:x,dx:P,dy:N,magnetism:B}},$=W(A),E=(e,t=!1)=>{if(o.current){const{x:a,y:u,translateX:i,translateY:f,size:x,alpha:P}=e;o.current.translate(i,f),o.current.beginPath(),o.current.arc(a,u,x,0,2*Math.PI),o.current.fillStyle=`rgba(${$.join(", ")}, ${P})`,o.current.fill(),o.current.setTransform(h,0,0,h,0,0),t||M.current.push(e)}},I=()=>{o.current&&o.current.clearRect(0,0,n.current.w,n.current.h)},k=()=>{I();const e=d;for(let t=0;t<e;t++){const a=C();E(a)}},D=(e,t,a,u,i)=>{const f=(e-t)*(i-u)/(a-t)+u;return f>0?f:0},L=()=>{I(),M.current.forEach((e,t)=>{const u=[e.x+e.translateX-e.size,n.current.w-e.x-e.translateX-e.size,e.y+e.translateY-e.size,n.current.h-e.y-e.translateY-e.size].reduce((f,x)=>Math.min(f,x)),i=parseFloat(D(u,0,20,0,1).toFixed(2));if(i>1?(e.alpha+=.02,e.alpha>e.targetAlpha&&(e.alpha=e.targetAlpha)):e.alpha=e.targetAlpha*i,e.x+=e.dx+Y,e.y+=e.dy+j,e.translateX+=(y.current.x/(c/e.magnetism)-e.translateX)/m,e.translateY+=(y.current.y/(c/e.magnetism)-e.translateY)/m,E(e,!0),e.x<-e.size||e.x>n.current.w+e.size||e.y<-e.size||e.y>n.current.h+e.size){M.current.splice(t,1);const f=C();E(f)}}),R.current=window.requestAnimationFrame(L)};return X.jsx("div",{className:H("pointer-events-none",s),ref:v,"aria-hidden":"true",...F,children:X.jsx("canvas",{ref:l,className:"size-full"})})};export{J as P,G as u};
